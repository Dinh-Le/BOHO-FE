<div class="toolbar">
  <div class="left">
    <button (click)="isPaused = !isPaused">
      <i class="bi" [ngClass]="isPaused ? 'bi-play-fill' : 'bi-pause-fill'"></i>
    </button>
    <button (click)="isMuted = !isMuted">
      <i
        class="bi"
        [ngClass]="isMuted ? 'bi-volume-mute-fill' : 'bi-volume-up-fill'"
      ></i>
    </button>
    <div class="time-intervals">
      <button><i class="bi bi-clock"></i></button>
      <div class="dropdown-content">
        <span>Khoảng thời gian hiển thị</span>
        <div class="time-period-input-group">
          <app-numeric-input
            unit="min"
            [min]="0"
            [max]="59"
            style="background: #f2f2f2ff !important; padding: 0; flex: 1"
          ></app-numeric-input>
          <app-numeric-input
            unit="sec"
            [min]="0"
            [max]="59"
            style="background: #f2f2f2ff !important; padding: 0; flex: 1"
          ></app-numeric-input>
        </div>
        <div class="button-container">
          <button>Áp dụng</button>
        </div>
      </div>
    </div>
    <div class="filter">
      <button><i class="bi bi-funnel"></i></button>
      <ul class="menu">
        <li>
          <div class="title">
            <span>Loại đối tượng</span> <i class="bi bi-chevron-right"></i>
          </div>
          <ul class="menu sub-menu">
            <li
              *ngFor="let item of objectTypes; trackBy: trackByValue"
              (click)="filterOptions.object = item.value"
              [ngClass]="
                item.value === filterOptions.object ? 'my-bg-primary' : ''
              "
            >
              {{ item.label }}
            </li>
          </ul>
        </li>
        <li>
          <div class="title">
            <span>Mức độ nghiêm trọng</span> <i class="bi bi-chevron-right"></i>
          </div>
          <ul class="menu sub-menu">
            <li
              *ngFor="let item of severities; trackBy: trackByValue"
              (click)="filterOptions.level = item.value"
              [ngClass]="
                item.value === filterOptions.level ? 'my-bg-primary' : ''
              "
            >
              {{ item.label }}
            </li>
          </ul>
        </li>
        <li>
          <div class="title">
            <span>Nhóm quy tắc</span> <i class="bi bi-chevron-right"></i>
          </div>
          <ul class="menu sub-menu">
            <li
              *ngFor="let item of ruleTypes; trackBy: trackByValue"
              (click)="filterOptions.rule_name = item.value"
              [ngClass]="
                item.value === filterOptions.rule_name ? 'my-bg-primary' : ''
              "
            >
              {{ item.label }}
            </li>
          </ul>
        </li>
        <li>Loại quy tắc</li>
        <li>
          <div class="title">
            <span>Trạng thái sự kiện</span> <i class="bi bi-chevron-right"></i>
          </div>
          <ul class="menu sub-menu">
            <li>Tất cả</li>
            <li>Đã xem</li>
            <li>Chưa xem</li>
            <li>Có sao</li>
            <li>Không sao</li>
            <li>Thật</li>
            <li>Giả</li>
          </ul>
        </li>
        <li class="seperator"></li>
        <li>Xóa sự kiện</li>
      </ul>
    </div>

    <div class="time-periods">
      <div class="selected-item">
        <span>12h trước</span>
        <i class="bi bi-chevron-down"></i>
      </div>
      <ul class="menu">
        <li class="menu-item" *ngFor="let item of timePeriods">
          {{ item.label }}
        </li>
      </ul>
    </div>
  </div>
  <div class="right">
    <app-svg-icon
      icon="grid-2"
      class="grid-size"
      height="24px"
      width="24px"
      color="#FFFFFF"
      (click)="gridCol = 2; viewMode = 'grid'"
    ></app-svg-icon>
    <app-svg-icon
      icon="grid-3"
      class="grid-size"
      width="24px"
      height="24px"
      (click)="gridCol = 3; viewMode = 'grid'"
    ></app-svg-icon>
    <app-svg-icon
      icon="grid-4"
      class="grid-size"
      width="24px"
      height="24px"
      (click)="gridCol = 4; viewMode = 'grid'"
    ></app-svg-icon>
    <app-svg-icon
      icon="grid-5"
      class="grid-size"
      width="24px"
      height="24px"
      (click)="gridCol = 5; viewMode = 'grid'"
    ></app-svg-icon>
    <button
      type="button"
      [class.active]="viewMode === 'grid'"
      (click)="viewMode = 'grid'"
    >
      Ô lưới
    </button>
    <button
      type="button"
      [class.active]="viewMode === 'map'"
      (click)="viewMode = 'map'"
    >
      Bản đồ
    </button>
    <button
      type="button"
      [class.active]="viewMode === 'list'"
      (click)="viewMode = 'list'"
    >
      Danh sách
    </button>
  </div>
</div>
<div class="content">
  <container-element [ngSwitch]="viewMode">
    <app-grid-view
      *ngSwitchCase="'grid'"
      [events]="currentMqttEvents"
      [col]="gridCol"
      [maxLength]="paginationInfo.pageLength"
    ></app-grid-view>
    <app-map-view *ngSwitchCase="'map'"></app-map-view>
    <app-list-view-alert *ngSwitchCase="'list'"></app-list-view-alert>
  </container-element>
</div>

<app-pagination
  class="paginationbar"
  [(ngModel)]="paginationInfo"
  [totalItems]="mqttEvents.length"
></app-pagination>
